<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Single stage RMST test using simulation. P-value and cut off tau adjustment times (parallel) — RMST_sim_test • ScuRMST</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Single stage RMST test using simulation. P-value and cut off tau adjustment times (parallel) — RMST_sim_test"><meta name="description" content="Different from RMST_sim_cal, It return a dataframe of p-value and rejection times of single-stage RMST test .
It also counts the times of tau adjustment (adjusted tau is the minimax survival time of two groups)
This function can be used to compare our rejection method with classical RMST difference test"><meta property="og:description" content="Different from RMST_sim_cal, It return a dataframe of p-value and rejection times of single-stage RMST test .
It also counts the times of tau adjustment (adjusted tau is the minimax survival time of two groups)
This function can be used to compare our rejection method with classical RMST difference test"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ScuRMST</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/garcia-ho/RMST_Code">Github</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Single stage RMST test using simulation. P-value and cut off tau adjustment times (parallel)</h1>

      <div class="d-none name"><code>RMST_sim_test.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Different from RMST_sim_cal, It return a dataframe of p-value and rejection times of single-stage RMST test .
It also counts the times of tau adjustment (adjusted tau is the minimax survival time of two groups)
This function can be used to compare our rejection method with classical RMST difference test</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">RMST_sim_test</span><span class="op">(</span><span class="va">n</span>, <span class="va">data_E</span>, <span class="va">data_C</span>, <span class="va">tau</span>, <span class="va">sim_size</span>, <span class="va">alpha</span>, <span class="va">sided</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Sample size in each arm</p></dd>


<dt id="arg-data-e">data_E<a class="anchor" aria-label="anchor" href="#arg-data-e"></a></dt>
<dd><p>Survival data of experiment group generated by expo_gen_2stages</p></dd>


<dt id="arg-data-c">data_C<a class="anchor" aria-label="anchor" href="#arg-data-c"></a></dt>
<dd><p>Survival data of control group generated by expo_gen_2stages</p></dd>


<dt id="arg-tau">tau<a class="anchor" aria-label="anchor" href="#arg-tau"></a></dt>
<dd><p>Prespecified cut-off time for RMST(used for final stage)</p></dd>


<dt id="arg-sim-size">sim_size<a class="anchor" aria-label="anchor" href="#arg-sim-size"></a></dt>
<dd><p>Simulation times</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>Stated type I error level</p></dd>


<dt id="arg-sided">sided<a class="anchor" aria-label="anchor" href="#arg-sided"></a></dt>
<dd><p>"two_sided" for two-sided test, "greater" for one-sided superiority test</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with the following components:</p><dl><dt>test_result</dt>
<dd><p>A data frame with the following columns:</p><dl><dt>rejection</dt>
<dd><p>The proportion of simulations where the RMST test p-value is less than or equal to alpha.</p></dd>

<dt>tau adjustment</dt>
<dd><p>The proportion of simulations where tau adjustment occurred.</p></dd>


</dl></dd>

<dt>p_value</dt>
<dd><p>A numeric vector of the p-values for each simulation.</p></dd>


</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">median_con</span> <span class="op">&lt;-</span> <span class="fl">10</span> <span class="co"># month</span></span></span>
<span class="r-in"><span><span class="va">lambda_H0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">/</span><span class="va">median_con</span></span></span>
<span class="r-in"><span><span class="va">lambda_H1</span> <span class="op">&lt;-</span> <span class="va">lambda_H0</span> <span class="op">*</span> <span class="fl">0.67</span></span></span>
<span class="r-in"><span><span class="va">sim_size</span> <span class="op">&lt;-</span> <span class="fl">5000</span> </span></span>
<span class="r-in"><span><span class="va">acc_time</span> <span class="op">&lt;-</span> <span class="fl">24</span></span></span>
<span class="r-in"><span><span class="va">cen_time</span> <span class="op">&lt;-</span> <span class="fl">12</span></span></span>
<span class="r-in"><span><span class="va">tau</span> <span class="op">&lt;-</span> <span class="fl">24</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">100</span>  </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2024</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_C</span> <span class="op">&lt;-</span> <span class="fu"><a href="expo_gen_2stages.html">expo_gen_2stages</a></span><span class="op">(</span>N <span class="op">=</span> <span class="va">n</span> <span class="op">*</span> <span class="va">sim_size</span>, acc_time <span class="op">=</span> <span class="va">acc_time</span>, </span></span>
<span class="r-in"><span>                   lambda <span class="op">=</span> <span class="va">lambda_H0</span>, dist <span class="op">=</span> <span class="st">'exp'</span>, </span></span>
<span class="r-in"><span>                   cen_time <span class="op">=</span> <span class="va">cen_time</span>,arm <span class="op">=</span> <span class="fl">0</span>, interim <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">[</span> , <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">1</span><span class="op">)</span><span class="op">]</span>    </span></span>
<span class="r-in"><span><span class="va">data_E_H0</span> <span class="op">&lt;-</span> <span class="fu"><a href="expo_gen_2stages.html">expo_gen_2stages</a></span><span class="op">(</span>N <span class="op">=</span> <span class="va">n</span> <span class="op">*</span> <span class="va">sim_size</span>, acc_time <span class="op">=</span> <span class="va">acc_time</span>, </span></span>
<span class="r-in"><span>                   lambda <span class="op">=</span> <span class="va">lambda_H0</span>, dist <span class="op">=</span> <span class="st">'exp'</span>, </span></span>
<span class="r-in"><span>                   cen_time <span class="op">=</span> <span class="va">cen_time</span>,arm <span class="op">=</span> <span class="fl">1</span>, interim <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">[</span> , <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">1</span><span class="op">)</span><span class="op">]</span>                    </span></span>
<span class="r-in"><span><span class="va">simple_rmst</span> <span class="op">&lt;-</span> <span class="fu">RMST_sim_test</span><span class="op">(</span>data_C <span class="op">=</span> <span class="va">data_C</span>, data_E <span class="op">=</span> <span class="va">data_E_H0</span>, </span></span>
<span class="r-in"><span>                   sim_size <span class="op">=</span> <span class="va">sim_size</span>, tau <span class="op">=</span> <span class="va">tau</span>, </span></span>
<span class="r-in"><span>                   n <span class="op">=</span> <span class="va">n</span>, alpha <span class="op">=</span> <span class="fl">0.05</span> ,sided <span class="op">=</span> <span class="st">'greater'</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in makeCluster(n_cores):</span> could not find function "makeCluster"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print(simple_rmst$test_result)</span></span></span>
<span class="r-in"><span><span class="co"># print(simple_rmst$p_value)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jiashan He.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

